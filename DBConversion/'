import sys
sys.path.extend(['/Library/Webserver','/Library/Webserver/Documents/installhtml/dwiki'])
from LocalWiki import wikiutil, config
from LocalWiki.Page import Page
from LocalWiki.logfile import editlog

import os, cPickle, time,shutil

data_path = 'data'

def hasImages(pagename):
  if os.path.exists(path + '/pages/' + wikiutil.quoteFilename(pagename) + '/attachments'):
    if os.listdir(path + '/pages/' + wikiutil.quoteFilename(pagename) + '/attachments'):
      return True
  return False

def findBackupVersions():
  #returns a list of floats of the versions of the page that are on disk
  for backup in os.listdir(data_path + '/backup/'):
    filename = backup.split('.')
  wikiutil.quoteFilename('hi.there.')
     

filelist = os.listdir(data_path + '/pages/')
dirlist = [ x for x in filelist if os.path.isdir(data_path + '/pages/' + x) ]
pagelist = [ wikiutil.unquoteFilename(x) for x in dirlist ]
findBackupVersions()
#for pagename in pagelist:
#  for version in backupVersions(pagename):
#    line = getEditInfo(pagename, version) 
